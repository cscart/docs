************************************
Создание способа оплаты через модуль
************************************

Способ оплаты - это группа нескольких **PHP** и **TPL** файлов, а также записи в таблице ``payment_processors``.

=================================
Поля таблицы *payment_processors*
=================================

**processor** *(string)* - поле с названием способа оплаты. Для всех языков будет отображаться одинаково, но лучше заполнять его латинскими символами. 

**processor_script** *(string)* - название **PHP** файла, в котором описана логика работы способа оплаты. Укажите только название файла, например, **foo_bar.php**. Указывать директории или другие символы не нужно.

По умолчанию этот файл будет запускаться из директории *app/payments*. А если название модуля указать в поле **addon** в таблице ``payment_processors``, то файл будет запускаться из директории *app/addons/{$addon_name}/payments*, где *$addon_name* - название модуля.

**processor_template** *(string)* - это относительный путь без первого слэша (**/**) к TPL-файлу шаблона, который отображается для покупателя, создающего заказ. Путь должен вести к директории *design/themes/{$theme_name}/templates*. Например: *views/orders/components/payments/cc.tpl*.

Если способу оплаты нужен разработанный с нуля шаблон, укажите к нему путь в модуле. Например, вот так выглядит путь к шаблону модуля PayPal:

*addons/paypal/views/orders/components/payments/paypal_express.tpl*.
  
В стандартной теме **responsive** есть несколько шаблонов. Используйте один из них, указав в поле **processor_template**. Также можно использовать стандартные шаблоны в качестве основы для своих собственных. Шаблоны темы **responsive** находятся в директории *design/themes/responsive/templates/views/orders/components/payments*.

**admin_template** *(string)* - это название TPL-файла шаблона, который появляется при создании и редактировании способа оплаты в отдельной вкладке. Этот шаблон содержит поля и формы, где администраторы указывают параметры способа оплаты, например, токены и т.п.

Укажите название TPL-файла без директории и других символов. Например, оно должно выглядеть так: **foo_processor_template.tpl**. По умолчанию этот файл запускается из директории *design/backend/templates/views/payments/components/cc_processors*.
  
Если способ оплаты добавлен модулем, и поле **addon** в таблице ``payment_processors`` заполнено корректно, файл будет запускаться из директории *design/backend/templates/addons/{$addon_name}/views/payments/components/cc_processors*; где ``{$addon_name}`` - название модуля.
