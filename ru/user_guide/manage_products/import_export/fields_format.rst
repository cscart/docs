************************
Формат полей при импорте
************************

В импортируемом CSV-файле с информацией о товарах могут быть колонки, перечисленные ниже. Если вам нужен пример CSV-файла, вы можете :doc:`посмотреть наш пример <import_example>` или :doc:`экспортировать товары самостоятельно <product_export>` — так вы получите наглядный пример из вашего магазина.

.. important::

    CS-Cart и Multi-Vendor поддерживают только файлы с кодировкой `UTF-8 <https://ru.wikipedia.org/wiki/UTF-8>`_. Если какие-то значения импортируются неправильно (или не импортируются вообще), попробуйте сохранить файл в кодировке UTF-8 и импортировать его снова.

.. contents::
   :local:

.. _import-product-code:

============
Product code 
============

Это поле является **обязательным** и должно быть уникальным для каждого товара. В полее можно вводить цифры, буквы и их сочетания (до 32 символов). Если вы хотите :doc:`экспортировать данные товаров в CSV-файл <product_export>`, убедитесь, что у каждого товара заполнено поле **КОД**. 

.. important::

    ПРИМЕР: *B0002OG6NY*

.. warning::

    Если значение в этом поле совпадает с кодом любого уже существующего товара, то при импорте будут обновлены данные этого товара.

========
Language
========

Код языка, состоящий из двух букв в нижнем регистре. Это **обязательное** поле.

Чтобы узнать код языка:

#. Откройте страницу **Настройки → Тексты и языки** в панели администратора.

#. Перейдите на вкладку **Языки**.

#. Найдите нужный язык, а затем найдите его код в колонке **Код языка**.

.. important::

    ПРИМЕР: *en*

==========
Product id
========== 

Числовой идентификатор товара в базе данных магазина. Если у товара нет **Product code** то для идентификации товара будет использоваться **Product id**.

.. important::

    ПРИМЕР: *130*

========
Category
========

Полный путь до основной категории товара. Родительские и дочерние категории в пути должны отделяться друг от друга с помощью **Разделителя категорий**, который вы задаёте, когда вы :doc:`импортируете товары в CSV-файле <product_import>`.

.. important::

    ПРИМЕР (с разделителем *///*): *Компьютеры///Ноутбуки*

.. note::

    Если указанные родительские и дочерние категории не существуют, они будут созданы.

Если название вашей категории содержит двоеточие (``:``), например *Промо-акции///Скидка: 10%*, то в импортируемом файле нужно экранировать категорию следующим образом: ``|Промо-акции///Скидка: 10%|``. Иначе категория импортируется неправильно.

=====
Price
===== 

Цена товара в вашем магазине; должна быть в формате **0.00**.

.. important::

    ПРИМЕР: *1600.00*

==========
List price
==========

Рекомендуемая цена товара. Используется для отображения скидки на витрине: ``Скидка = List price - Price``. Эта цена должна быть в формате **0.00**.

.. important::

    ПРИМЕР: *1750.00*

======
Status
====== 

Статус товара:

* **A** — *включен* — товар появляется на витрине;

* **H** — *скрыт* — товар не появляется на витрине, но покупатели могут увидеть его по прямой ссылке;

* **D** — *выключен* — товар можно увидеть только в панели администратора.

.. important::

    ПРИМЕР: *A*

========
Quantity
========

Количество экземпляров этого товара в наличии.

.. important::

    ПРИМЕР: *50*

======
Weight
====== 

Вес товара. Единицу веса можно настроить на странице :doc:`Настройки → Общие </user_guide/settings/general>`. По умолчанию это *кг*. 

.. important::

    ПРИМЕР: *20.25*

.. note::

    Вес должен быть целым числом или десятичной дробью с не более чем двумя цифрами в дробной части. Целую часть от дробной отделяет точка (``.``).

============
Min quantity
============

Минимальное количество экземпляров товара, которое может быть куплено в одном заказе.

.. important::

    ПРИМЕР: *1*

============
Max quantity
============

Максимальное количество экземпляров товара, которое может быть куплено в одном заказе.

.. important::

    ПРИМЕР: *10*

=============
Quantity step
=============
 
Шаг, на который можно изменить количество экземпляров выбранного товара в корзине. Например:

* у **Min quantity** значение *2*;

* у **Max quantity** значение *10*;

* у **Quantity step** значение *2*.

В этом случае покупатели смогут приобрести 2, 4, 6, 8 или 10 экземпляров товара в заказе.

.. important::

    ПРИМЕР: *1*

==============
List qty count
==============

Максимальное количество вариантов в выпадающем списке выбора количества экземпляров товара в корзине. Например:

* у **Min quantity** значение *2*;

* у **Max quantity** значение *10*; 

* у **Quantity step** значение *2*;

* у **List qty count** значение *3*.

Тогда покупатели смогут выбирать между 2, 4 или 6 экземплярами этого товара.

.. important::

    ПРИМЕР: *10*

.. note::

    Если использовать **List qty count**, то поле **Количество** на странице товара на витрине станет выпадающим списком.

================
Shipping freight
================ 

Дополнительная надбавка к стоимости доставки за этот товар; указывается в главной валюте магазина и прибавляется к автоматически рассчитанной или заданной стоимости доставки. Это поле можно использовать как стоимость упаковки.

.. important::

    ПРИМЕР: *2.00*

.. note::

    Допустим, CS-Cart рассчитал стоимость доставки 500 рублей; тогда, если надбавка составляет 50 рублей, а мы покупаем 3 экземпляра товара, то стоимость доставки будет 650 рублей.

==========
Date added
==========

Дата, когда товар был добавлен. Задаётся в формате:

  *dd mmm yyyy 00:00:00*

.. important::

    ПРИМЕР: *25 Dec 2011 14:05:00*

.. note::

     Если это поле не заполнено, то будут использованы дата и время, когда товар был импортирован.

============
Downloadable
============

* **Y** — товар является скачиваемым;

* **N** — товар не является скачиваемым.

.. important::

    ПРИМЕР: *Y*

.. note::

    Чтобы в магазине можно было создавать скачиваемые товары, откройте страницу **Настройки → Общие** и поставьте галочку **Включить продажу цифровых товаров**.

=====
Files
=====

Полный путь к файлам цифрового товара.

.. important::

    ПРИМЕР: */home/client/public_html/cscart-4.4.1/var/files/exim/backup/downloads/filename.pdf*

Можно указать просто название файла без пути, если :doc:`при импорте CSV-файла с товарами <product_import>` вы зададите настройку **Директория с файлами**. Если вы указываете несколько файлов, разделяйте их запятыми.

.. important::

    ПРИМЕР: *file1.pdf, file2.jpg*

=================
Ship downloadable
=================

* **Y** — рассчитывать стоимость доставки для цифрового товара так же, как и для физического;

* **N**— не рассчитывать стоимость доставки для цифрового товара.

.. important::

    ПРИМЕР: *Y*

==================
Inventory tracking
==================

* **B** — отслеживать количество товаров в наличии;

* **D** — не отслеживать количество товаров в наличии.

.. important::

    ПРИМЕР: *D*

====================
Out of stock actions
==================== 

Этот столбец определяет, :doc:`что покупатели смогут сделать на странице товара, если товара нет в наличии <../products/out_of_stock_actions>`:

* **B** — предзаказать товар;

* **S** — подписаться на уведомление о количестве товара в наличии;

* **N** — ничего (действие не выбрано).

.. important::

    ПРИМЕР: *B*

=============
Free shipping
=============

* **Y** — товар доставляется бесплатно и не будет учитываться при расчёте стоимости доставки, если способ доставки можно использовать для бесплатной доставки;

* **N** — товар не доставляется бесплатно и всегда будет учитываться при расчёте стоимости доставки.

.. important::

    ПРИМЕР: *Y*

=================
Zero price action
=================

Это поле описывает действия, доступные для покупателя при нулевой цене.

* **R** — запретить добавление товара в корзину;

* **P** — разрешить добaвление товара в корзину;

* **A** — попросить покупателя ввести цену.

.. important::

    ПРИМЕР: *A*

.. _advanced-image-import:

====================
Images (Изображения)
====================

.. note::

    Это поле доступно только с модулем :doc:`/user_guide/addons/advanced_products_import/index`.

Путь (или пути) к изображениям товаров. Если изображений несколько, отделяйте пути к ним с помощью разделятеля изображений из дополнительных настроек во вкладке **Файл** :doc:`на странице пресета импорта </user_guide/manage_products/import_export/advanced_product_import>`.

.. important::

    ПРИМЕР: *exim/backup/images/main_image.jpg///exim/backup/images/additional_image.jpg*

Можно указать просто название файла с изображением без пути, если :doc:`при импорте CSV-файла с товарами <product_import>` вы зададите настройку **Директория с изображениями**.

После пути можно задать альтернативный текст для изображения.

.. important::

    EXAMPLE: *exim/backup/images/main_image.jpg#{[ar]:Текст на арабском;[en]:Текст на английском;}///exim/backup/images/Nadditional_image.jpg#{[ar]:Текст на арабском;[en]:Текст на английском;}*

Если каждое изображение находится в отдельном столбце (в файле CSV) или узле (в файле XML), то всем этим столбцам или узлам можно задать соотвествие со свойством **Images (Изображения)**. Тогда данные объединятся правильно, и для товара импортируется несколько изображений.

.. _csv-detailed-image-import:

==============
Detailed image
==============

Полный путь к детальному изображению товара.

.. important::

    ПРИМЕР: */home/client/public_html/cscart/var/files/exim/backup/images/detailed_image.jpg*

Можно указать просто название файла с изображением без пути, если :doc:`при импорте CSV-файла с товарами <product_import>` вы зададите настройку **Директория с изображениями**.

После пути можно задать альтернативный текст для изображения. Например, зададим текст для английского и немецкого языков:

.. important::

    ПРИМЕР: */home/client/public_html/cscart/var/files/exim/backup/images/detailed_image.jpg#{[de]:Пример текста на немецком;[en]:Пример текста на английском;}*

=========
Thumbnail
=========

Полный путь к иконке товара. **Иконки генерируются из детальных изображений автоматически**, поэтому это поле нужно заполнять, только если вы хотите использовать иконку, которая отличается от детального изображения.

.. important::

    ПРИМЕР: */home/client/public_html/cscart/var/files/exim/backup/images/thumbnail_image.jpg*

.. note::

    Путь и альтернативный текст для иконки указываются так же, :ref:`как для детального изображения <csv-detailed-image-import>`.

============
Product name
============

Название товара; может содержать до 255 символов.

.. important::

    ПРИМЕР: *Брюки для разогрева Adidas*

===========
Description
===========

Подробное описание товара, может содержать до 16 777 215 символов.

.. important::

    ПРИМЕР: *Брюки Adidas на боковой разъемной застежке-молнии. Идеальны для разогрева перед соревнованиями или тренировки. Доступны в трёх цветах: чёрный, тёмно-синий, белый.*

В импортируемом файле может быть HTML-разметка, которая влияет на внешний вид текста. Чаще всего она встречается в описании, например: 

  <p>Брюки <i>Adidas</i> на боковой разъемной застежке-молнии.</p>

При импорте CSV-файла проблем нет. Но если вы импортируете XML-файл, то возникает проблема: теги в XML и в HTML выглядят одинаково (``<...>``), и импорт не может понять, что есть что. Поэтому нужно отделить HTML-теги, которые должны импортироваться в описание как есть, от XML-тегов, которые задают структуру файла. Текст с HTML-разметкой должно выглядеть так:

  <![CDATA[<p>Брюки <i>Adidas</i> на боковой разъемной застежке-молнии.</p>]]>

=================
Short description
=================

Краткое описание товара; может содержать до 16 777 215 символов.

.. important::

    ПРИМЕР: *Брюки Adidas на боковой разъемной застежке-молнии.*

=============
Meta keywords
=============

Ключевые слова из мета-тега; используются для поисковой оптимизации (SEO); в поле может быть до 255 символов.

.. important::

    ПРИМЕР: *adidas, адидас, 100g, брюки для разогрева*

================
Meta description
================

Описание страницы товара из мета-тега; используется для поисковой оптимизации (SEO); в поле может быть до 255 символов.

.. important::

    ПРИМЕР: *Брюки для разогрева Adidas*

============
Search words
============ 

Список поисковых слов товара, может содержать до 65 535 символов. Если в стандартную поисковую строку CS-Cart вбить одно из этих слов, то встроенный поиск CS-Cart найдёт этот товар.

.. important::

    ПРИМЕР: *adidas, адидас, брюки для разогрева*

.. note::

    Поиск в CS-Cart не учитывает заглавные и строчные буквы.

==========
Page title
==========

Название страницы в браузере; в поле может быть до 255 символов.

.. important::

    ПРИМЕР: *Брюки для разогрева Adidas*

==========
Promo text
==========

Короткий промо-текст, который отобразится на странице товара; в поле может быть до 16 777 215 символов.

.. important::

    ПРИМЕР: *БЕСПЛАТНАЯ доставка на заказ свыше 3000 рублей! Отправка заказа в течение суток.*

=====
Taxes
=====

Названия налогов, которые включены для товара. Если нужно указать несколько налогов, это делается через запятую.

.. important::

    ПРИМЕР: *НДС, test*

.. warning::

     Перед тем, как указывать налоги для товара, :doc:`создайте эти налоги <../../shipping_and_taxes/taxes/set_up_tax>`.

.. _import-features:

========
Features
========

У всех характеристик, которые вы импортируете, должен быть такой формат:

  *{ID} (Группа) Название: Тип[Значение]*

* **ID** — идентификатор характеристики;

* **Группа** — название группы, к которой относится характеристика;

* **Название** — название характеристики;

* **Тип** — один из следующих типов характеристики:

  * **C** — один флажок;

  * **M** — несколько флажков;

  * **S** — список вариантов (текст);

  * **N** — список вариантов (число);

  * **E** — список вариантов (бренд/производитель);

  * **T** — текст;

  * **O** — число;

  * **D** — дата;

* **Значение** — значение характеристики. 

Если характеристик несколько, они отделяются друг от друга точкой с запятой.

.. important::

    ПРИМЕР: *T[1233423423]; Дата релиза: D[05/05/07]; Цвет: S[Красный]*

.. note::

    Если характеристики или варианта нет в базе данных, она будет создана автоматически. Также вы можете :doc:`создать характеристики вручную <../features/product_features>` или импортировать их до того, как импортируете товары с этими характеристиками.

.. _import-variation-group-code:

====================
Variation group code
====================

Общий идентификатор, который связывает несколько :doc:`вариаций товара </user_guide/manage_products/products/product_variations>` в одну группу вариаций. Например, если вы продаёте футболку с характеристиками *Цвет* и *Размер*, то *белая футболка XXL* и *синяя футболка M* будут вариациями товара. Если у них одинаковый код группы вариаций, то покупатели смогут переключаться между этими вариациями на странице товара.

Код группы может содержать только цифры, латиницу и знаки "-" и "_".

У нас есть :doc:`отдельная статья об импорте вариаций товаров </user_guide/manage_products/import_export/variation_import>`.

.. important::

    ПРИМЕР: *T-shirt_Need4Sports*

.. _import-variation-set-as-default:

========================
Variation set as default
========================

.. note::

    Этот столбец сработает, только если в импортируемом файле также есть *Variation group code*.

Несколько :doc:`вариаций товара </user_guide/manage_products/products/product_variations>` могут занимать одну позицию в каталоге. Тогда покупатели в списке товаров увидят только одну из вариаций. На остальные вариации они смогут переключиться уже только со страницы товара.

С помощью этого столбца можно задать, какую из вариаций покупатели увидят первой, т.е. уже на списке товаров. Этот столбец не обязателен. Если его не будет, то:

* при первом создании группы вариаций первый товар в ней станет вариацией по умолчанию;

* при изменении товаров в группе вариаций порядок уже роли играть не будет, и вариация по умолчанию не изменится.

.. important::

    EXAMPLE: *Y*

.. _import-options:

=======
Options
=======

У всех опций, которые вы импортируете, должен быть такой формат:

  *(Магазин) Название: Тип[Вариант 1///свойство=значение///свойство=значение, ..., Вариант X///свойство=значение///свойство=значение]///настройка=значение///настройка=значение*

.. note::

    Несколько опций отделяются друг от друга точной с запятой (``;``).

* **(Магазин)** — название витрины;

  .. warning::

      Если не указать название витрины, вы не сможете редактировать эти опции.

* **Название** — название опции;

* **Тип** — один из следующих типов опции:

  * **IG** — текст;

  * **TG** — текстовая область;
 
  * **SG** — список вариантов;

  * **RG** — радиогруппа;

  * **CG** — флажок.

.. important::

    ПРИМЕР (текстовые опции): *(Simtech) Возраст: IG; (Simtech) Дата рождения: IG; (Simtech) Примечание: TG*

--------------
Варианты опций
--------------

Варианты можно задать для опций с типом *список вариантов* (*SG*) или *радиогруппа* (*RG*) сразу после типа опции:

  *(Магазин) Название: Тип[Вариант 1///свойство=значение///свойство=значение, ..., Вариант X///свойство=значение///свойство=значение]*

* **Вариант 1, ..., Вариант X** — названия вариантов. 

  .. important::

      ПРИМЕР: *(Simtech) Цвет: SG[Красный, Зелёный, Синий]; (Simtech) Размер: RG[S, M, L, XL, XXL]*

* **///** — разделитель вариантов характеристики, который вы задаёте :doc:`при импорте CSV-файла с товарами <product_import>`.

* **свойство=значение///свойство=значение** — значения свойств этого варианта опций; вот возможные свойства: 

  * **modifier** — модификатор цены: положительное или отрицательное значение, которое добавляется или вычитается из цены товара, когда выбран этот вариант опции;

  * **modifier_type** — тип модификатора цены:

    * **P** — процент;

    * **A** — абсолютное значение в валюте магазина по умолчанию;

  * **weight_modifier** — модификатор веса: положительное или отрицательное значение, которое добавляется или вычитается из веса товара, когда выбран этот вариант опции;

  * **weight_modifier_type** — тип модификатора веса:

    * **P** — процент;

    * **A** — абсолютное значение в единице измерения веса, используемой в магазине;

  * **image** — изображение варианта опции. Это свойство работает так же, как поле :ref:`Detailed image <csv-detailed-image-import>`.

.. important::

    ПРИМЕР: *(Simtech) Размер: SG[Обычный,Большой///modifier=10.000///modifier_type=P///weight_modifier=20.000///weight_modifier_type=A]; Цвет: SG[Серый///image=exim/backup/images/variant_image/grey_example.jpg,Черный///modifier=50.000///modifier_type=A///image=exim/backup/images/variant_image/black_example.jpg]*

---------------
Настройки опций
---------------

Настройки можно указать после вариантов. Вот какие настройки можно указать:

* **inventory** — определяет, может ли эта опция быть частью :doc:`комбинации опций </user_guide/manage_products/options/option_combinations>` и должна ли она отслеживаться на складе отдельно:

  * **Y** — да;

  * **N** — нет;

* **missing_variants_handling** — определяет, что делать, когда все варианты опции выключены или ни один вариант не создан:

  * **M** — отобразить сообщение;

  * **H** — полностью скрыть эту опцию;

* **required** — если опция является обязательной, то покупатели обязательно должны будут выбрать один из ее вариантов:

  * **Y** — опция обязательная;

  * **N** — опция необязательная;

* **status** — статус опции:

  * **A** — опция включена;

  * **D** — опция выключена;

  .. important::

      ПРИМЕР: *(Simtech) Цвет: SG[Красный///modifier=5///modifier_type=A,Зеленый///modifier=10///modifier_type=P]///inventory=Y///missing_variants_handling=M///required=Y///status=A*

* **multiupload** (только для опций с типом *FG* — файл) — определяет, могут ли покупатели загрузить для одной опции несколько файлов: 

  * **Y** — да;

  * **N** — нет;

* **allowed_extensions** (только для опций с типом *FG* — файл) — расширения файлов, которые можно загрузить;

* **max_file_size** (только для опций с типом *FG* — файл) — максимальный размер файла, который можно загрузить в килобайтах.

  .. important::

      ПРИМЕР: *(Simtech) Своё изображение: FG///required=Y///multiupload=N///allowed_extensions=jpg,bmp,gif///max_file_size=1000*

====================
Secondary categories
====================

Полный путь к дополнительным категориям, которые назначены этому товару. Родительские и дочерние категории в пути должны отделяться друг от друга с помощью **Разделителя категорий**, который вы задаёте, когда вы :doc:`импортируете товары в CSV-файле <product_import>`. Если у товара несколько дополнительных категорий, то пути к каждой категории должны отделяться друг от друга точкой с запятой (``;``).

.. important::

    ПРИМЕР (если разделитель *///*): *Компьютеры///Новинки; Компьютеры///Стационарные компьютеры*

Если название вашей категории содержит двоеточие (``:``), например *Промо-акции///Скидка: 10%*, то в импортируемом файле нужно экранировать категорию следующим образом: ``|Промо-акции///Скидка: 10%|``. Иначе категория импортируется неправильно.

Когда дополнительных категорий несколько, то запись может выглядеть так: ``Избранное;|Промо-акции///Скидка: 10%|``.

============
Items in box
============ 

Минимальное и максимальное количество экземпляров товара, которое перевозится в одной коробке. Это поле используется для автоматического расчёта стоимости доставки. Формат такой:

  *min:[number];max:[number]*

.. important::

    ПРИМЕР: *min:1;max:5*

========
Box size
========

Размер коробки. Это поле используется для автоматического расчёта стоимости доставки. Формат такой:

  *length:[number];width:[number];height:[number]*

.. important::

    ПРИМЕР: *length:10;width:15;height:15*

=============
Usergroup IDs
=============

Числовые идентификаторы групп пользователей, которые могут видеть этот товар. Вот идентификаторы, которые используются в CS-Cart по умолчанию:

* *0* — все пользователи;

* *1* — гости;

* *2* — зарегистрированные пользователи.

.. important::

    ПРИМЕР: *0,1,2,3*

===============
Available since
===============

Дата, начиная с которой, товар можно покупать. Дата нужна, когда в качестве :doc:`действия при отсутствии товара в наличии </user_guide/manage_products/products/out_of_stock_actions>` выбран *Предзаказ*. Используется следующий формат:

  *dd mmm yyyy 00:00:00*

.. important::

    ПРИМЕР: *25 Dec 2015 14:05:00*

===============
Exceptions type
===============

Тип :doc:`исключений </user_guide/manage_products/options/exceptions>`: 

* **F** — запрещение; все исключения являются запрещенными комбинациями, и покупатели не могут добавить их в корзину. Остальные комбинации разрешены;

* **A** — разрешение; все исключения являются запрещёнными комбинациями, и покупатели могут добавить в корзину только исключения.

.. important::

    ПРИМЕР: *F*

============
Options type
============

Порядок, в котором покупатель выбирает варианты опций на странице товара:

* **P** — одновременно: покупатели выбирают варианты опций в любом порядке; у каждой опции по умолчанию выбран какой-то вариант;

* **S** — последовательно: покупатель сначала выбирает вариант первой опции, потом второй опции, и так далее; по умолчанию ни один из вариантов не выбран.

.. important::

    ПРИМЕР: *S*

=====
Store
===== 

Витрина, которой принадлежит товар. Это **обязательное** поле.

.. important::

    ПРИМЕР: *Sample Store*

========
SEO name
========

SEO-имя товара.

.. important::

    ПРИМЕР: *my-product*

=============
Pay by points
=============

* **Y** — покупатели могут оплатить товар с помощью :doc:`бонусных баллов <../../addons/reward_points/index>`;

* **N** — покупатели не могут оплатить товар с помощью :doc:`бонусных баллов <../../addons/reward_points/index>`.

.. important::

    ПРИМЕР: *Y*

===============
Override points
===============

* **Y** — заменить количество баллов, получаемых зa покупку этого товара;

* **N** — не заменять количество баллов, получаемых за покупку этого товара.

.. important::

    ПРИМЕР: *Y*

======================
Override exchange rate
======================

* **Y** — заменить цену в баллах для этого товара;

* **N** — использовать для этого товара глобальный курс бонусных баллов.

.. important::

    ПРИМЕР: *Y*

==========
Popularity
==========

Популярность товара. Это целое число, которое изменяется в зависимости от активности, связанной с товаром (когда товар просматривают, добавляют в корзину, удаляют из корзины или покупают). Чем выше число, тем популярнее товар.

.. important::

    ПРИМЕР: *8*
